(function(A,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue"),require("three")):typeof define=="function"&&define.amd?define(["exports","vue","three"],i):(A=typeof globalThis<"u"?globalThis:A||self,i(A["@janvorisek/drie"]={},A.Vue,A.three))})(this,function(A,i,c){"use strict";const Q=r=>r===void 0?new c.Vector3(0,0,0):"x"in r?new c.Vector3(r.x,r.y,r.z):new c.Vector3(r[0],r[1],r[2]),ee=(r,a,t)=>{t[r].isVector3?t[r].set(a.x,a.y,a.z):"isEuler"in t[r]&&t[r].setFromVector3(a)},S=(r,a,t,e=!0)=>{if(t!==null){if(r[a]!==void 0){const n=Q(r[a]);if("isGroup"in t)for(const o of t.children)S(r,a,o,!1);else ee(a,n,t)}e&&i.watch(()=>r[a],()=>{if(r[a]!==void 0){const n=Q(r[a]);if("isGroup"in t)for(const o of t.children)S(r,a,o,!1);else ee(a,n,t)}})}},b=(r,a,t)=>{i.watch(()=>r[a],()=>{t()})};function k(r,a){a.hasAttribute("position")&&(r.setAttribute("position",a.getAttribute("position")),r.attributes.position.needsUpdate=!0),a.hasAttribute("normal")&&(r.setAttribute("normal",a.getAttribute("normal")),r.attributes.normal.needsUpdate=!0),a.hasAttribute("uv")&&(r.setAttribute("uv",a.getAttribute("uv")),r.attributes.uv.needsUpdate=!0),r.setIndex(a.getIndex())}function F(r){if(r.children.length>0)for(let a=r.children.length-1;a>=0;a--)F(r.children[a]);if(r.geometry&&r.geometry.dispose(),r.material)if(r.material.length)for(let a=0;a<r.material.length;++a)r.material[a].map&&r.material[a].map.dispose(),r.material[a].lightMap&&r.material[a].lightMap.dispose(),r.material[a].bumpMap&&r.material[a].bumpMap.dispose(),r.material[a].normalMap&&r.material[a].normalMap.dispose(),r.material[a].specularMap&&r.material[a].specularMap.dispose(),r.material[a].envMap&&r.material[a].envMap.dispose(),r.material[a].dispose();else r.material.map&&r.material.map.dispose(),r.material.lightMap&&r.material.lightMap.dispose(),r.material.bumpMap&&r.material.bumpMap.dispose(),r.material.normalMap&&r.material.normalMap.dispose(),r.material.specularMap&&r.material.specularMap.dispose(),r.material.envMap&&r.material.envMap.dispose(),r.material.dispose();return r.removeFromParent(),!0}const te=i.defineComponent({__name:"Renderer",props:{camera:null,autoResize:{type:Boolean,default:!0},onBeforeRender:{type:Function,default:()=>{}},antialias:{type:Boolean,default:!1},frameLimit:{default:60},alpha:{type:Boolean,default:!1},shadowMapEnabled:{type:Boolean,default:!1}},setup(r,{expose:a}){const t=r;let e=null;const n=[],o=i.reactive([]);let s=null;const m=i.ref([]),d=i.ref([]),h=i.ref();i.provide("canvas",h);let _=Date.now(),w=1e3/t.frameLimit;i.watch(()=>t.camera,p=>M(p));const M=p=>{if(p){const L=m.value.find(P=>P.name===p);L===void 0&&(s=null),s=L}else s=m.value[0]};function f(p){e!==null&&(e.shadowMap.enabled=p.shadowMapEnabled,w=1e3/p.frameLimit)}i.onMounted(()=>{e=new c.WebGLRenderer({canvas:h.value,antialias:t.antialias,alpha:!0}),e.setSize(1,1),f(t),M(t.camera),new ResizeObserver(L=>{L.forEach(P=>{e&&t.autoResize&&e.setSize(P.contentRect.width,P.contentRect.height)})}).observe(h.value.parentElement),g()}),i.onUnmounted(()=>{for(let p of n)F(p)});function g(){requestAnimationFrame(g);const p=Date.now(),L=p-_;if(!(w>-1&&L<w)){if(_=p-L%w,t.onBeforeRender&&t.onBeforeRender(),d.value.length>0&&s)for(const P of d.value)P.value!==null&&(P.value.object.uuid===s.uuid?(P.value.enabled=!0,P.value.update()):P.value.enabled=!1);if(s&&e)for(const P of n)e.render(P,s)}}return f(t),i.watch(()=>t.shadowMapEnabled,()=>f(t)),i.watch(()=>t.frameLimit,()=>f(t)),i.provide("addCamera",p=>m.value.push(p)),i.provide("addScene",p=>n.push(p)),i.provide("addGeometry",p=>o.push(p)),i.provide("getGeometry",p=>o.find(L=>L.name===p)),i.provide("addControls",p=>d.value.push(p)),a({three:e}),(p,L)=>(i.openBlock(),i.createElementBlock(i.Fragment,null,[i.renderSlot(p.$slots,"default"),i.createElementVNode("canvas",{ref_key:"canvas",ref:h},null,512)],64))}}),ne=i.defineComponent({__name:"Scene",props:{background:{default:16777215}},setup(r,{expose:a}){const t=r,e=new c.Scene;i.provide("scene",e),i.inject("addScene")(e);function n(o){o.background&&(e.background=new c.Color(o.background))}return n(t),i.watch(()=>t.background,()=>n(t)),a({three:e}),(o,s)=>i.renderSlot(o.$slots,"default")}}),Xe={name:"PerspectiveCamera"},oe=i.defineComponent({...Xe,props:{aspect:{default:1},autoResize:{type:Boolean,default:!0},far:{default:2e3},lookAt:{default:()=>[0,0,0]},name:{default:""},near:{default:.1},position:{default:()=>[0,0,0]},up:{default:()=>[0,1,0]}},setup(r,{expose:a}){const t=r,e=new c.PerspectiveCamera(75,window.innerWidth/window.innerHeight*1e3,.1,1e3);i.inject("addCamera")(e);const n=i.inject("canvas");i.onMounted(()=>{t.name&&(e.name=t.name),new ResizeObserver(m=>{m.forEach(d=>{t.autoResize&&(e.aspect=d.contentRect.width/d.contentRect.height,e.updateProjectionMatrix())})}).observe(n.value)}),S(t,"position",e),S(t,"up",e),S(t,"lookAt",e);function o(){t.autoResize||(e.aspect=t.aspect),e.near=t.near,e.far=t.far,e.updateProjectionMatrix()}return o(),b(t,"aspect",o),b(t,"near",o),b(t,"far",o),i.provide("parentCamera",e),a({three:e}),(s,m)=>i.renderSlot(s.$slots,"default")}}),We={name:"OrthographicCamera"},ae=i.defineComponent({...We,props:{far:{default:2e3},lookAt:{default:()=>[0,0,0]},name:{default:""},near:{default:.1},position:{default:()=>[0,0,0]},up:{default:()=>[0,1,0]}},setup(r,{expose:a}){const t=r,e=new c.OrthographicCamera(-10,10,10,-10,.1,1e3);e.lookAt(0,0,0),e.updateProjectionMatrix(),i.inject("addCamera")(e);const n=i.inject("canvas");i.onMounted(()=>{t.name&&(e.name=t.name),new ResizeObserver(m=>{m.forEach(d=>{const h=d.contentRect.width/d.contentRect.height;e.left=e.bottom*h,e.right=e.top*h,e.updateProjectionMatrix()})}).observe(n.value)}),S(t,"position",e),S(t,"up",e),S(t,"lookAt",e);function o(){e.near=t.near,e.far=t.far,e.updateProjectionMatrix()}return o(),b(t,"near",o),b(t,"far",o),i.provide("parentCamera",e),a({three:e}),(s,m)=>i.renderSlot(s.$slots,"default")}}),ie={type:"change"},Z={type:"start"},se={type:"end"};class Ke extends c.EventDispatcher{constructor(a,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=a,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new c.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:c.MOUSE.ROTATE,MIDDLE:c.MOUSE.DOLLY,RIGHT:c.MOUSE.PAN},this.touches={ONE:c.TOUCH.ROTATE,TWO:c.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(l){l.addEventListener("keydown",Fe),this._domElementKeyEvents=l},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(ie),e.update(),o=n.NONE},this.update=function(){const l=new c.Vector3,u=new c.Quaternion().setFromUnitVectors(a.up,new c.Vector3(0,1,0)),T=u.clone().invert(),j=new c.Vector3,V=new c.Quaternion,U=2*Math.PI;return function(){const Ze=e.object.position;l.copy(Ze).sub(e.target),l.applyQuaternion(u),m.setFromVector3(l),e.autoRotate&&o===n.NONE&&I(v()),e.enableDamping?(m.theta+=d.theta*e.dampingFactor,m.phi+=d.phi*e.dampingFactor):(m.theta+=d.theta,m.phi+=d.phi);let $=e.minAzimuthAngle,D=e.maxAzimuthAngle;return isFinite($)&&isFinite(D)&&($<-Math.PI?$+=U:$>Math.PI&&($-=U),D<-Math.PI?D+=U:D>Math.PI&&(D-=U),$<=D?m.theta=Math.max($,Math.min(D,m.theta)):m.theta=m.theta>($+D)/2?Math.max($,m.theta):Math.min(D,m.theta)),m.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=h,m.radius=Math.max(e.minDistance,Math.min(e.maxDistance,m.radius)),e.enableDamping===!0?e.target.addScaledVector(_,e.dampingFactor):e.target.add(_),l.setFromSpherical(m),l.applyQuaternion(T),Ze.copy(e.target).add(l),e.object.lookAt(e.target),e.enableDamping===!0?(d.theta*=1-e.dampingFactor,d.phi*=1-e.dampingFactor,_.multiplyScalar(1-e.dampingFactor)):(d.set(0,0,0),_.set(0,0,0)),h=1,w||j.distanceToSquared(e.object.position)>s||8*(1-V.dot(e.object.quaternion))>s?(e.dispatchEvent(ie),j.copy(e.object.position),V.copy(e.object.quaternion),w=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",ve),e.domElement.removeEventListener("pointerdown",Ie),e.domElement.removeEventListener("pointercancel",Ne),e.domElement.removeEventListener("wheel",Ue),e.domElement.removeEventListener("pointermove",K),e.domElement.removeEventListener("pointerup",q),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",Fe)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=n.NONE;const s=1e-6,m=new c.Spherical,d=new c.Spherical;let h=1;const _=new c.Vector3;let w=!1;const M=new c.Vector2,f=new c.Vector2,g=new c.Vector2,p=new c.Vector2,L=new c.Vector2,P=new c.Vector2,O=new c.Vector2,E=new c.Vector2,C=new c.Vector2,y=[],G={};function v(){return 2*Math.PI/60/60*e.autoRotateSpeed}function z(){return Math.pow(.95,e.zoomSpeed)}function I(l){d.theta-=l}function x(l){d.phi-=l}const B=function(){const l=new c.Vector3;return function(T,j){l.setFromMatrixColumn(j,0),l.multiplyScalar(-T),_.add(l)}}(),Te=function(){const l=new c.Vector3;return function(T,j){e.screenSpacePanning===!0?l.setFromMatrixColumn(j,1):(l.setFromMatrixColumn(j,0),l.crossVectors(e.object.up,l)),l.multiplyScalar(T),_.add(l)}}(),N=function(){const l=new c.Vector3;return function(T,j){const V=e.domElement;if(e.object.isPerspectiveCamera){const U=e.object.position;l.copy(U).sub(e.target);let Y=l.length();Y*=Math.tan(e.object.fov/2*Math.PI/180),B(2*T*Y/V.clientHeight,e.object.matrix),Te(2*j*Y/V.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(B(T*(e.object.right-e.object.left)/e.object.zoom/V.clientWidth,e.object.matrix),Te(j*(e.object.top-e.object.bottom)/e.object.zoom/V.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function W(l){e.object.isPerspectiveCamera?h/=l:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*l)),e.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function je(l){e.object.isPerspectiveCamera?h*=l:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/l)),e.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Ge(l){M.set(l.clientX,l.clientY)}function bt(l){O.set(l.clientX,l.clientY)}function ze(l){p.set(l.clientX,l.clientY)}function _t(l){f.set(l.clientX,l.clientY),g.subVectors(f,M).multiplyScalar(e.rotateSpeed);const u=e.domElement;I(2*Math.PI*g.x/u.clientHeight),x(2*Math.PI*g.y/u.clientHeight),M.copy(f),e.update()}function Mt(l){E.set(l.clientX,l.clientY),C.subVectors(E,O),C.y>0?W(z()):C.y<0&&je(z()),O.copy(E),e.update()}function Pt(l){L.set(l.clientX,l.clientY),P.subVectors(L,p).multiplyScalar(e.panSpeed),N(P.x,P.y),p.copy(L),e.update()}function At(l){l.deltaY<0?je(z()):l.deltaY>0&&W(z()),e.update()}function St(l){let u=!1;switch(l.code){case e.keys.UP:N(0,e.keyPanSpeed),u=!0;break;case e.keys.BOTTOM:N(0,-e.keyPanSpeed),u=!0;break;case e.keys.LEFT:N(e.keyPanSpeed,0),u=!0;break;case e.keys.RIGHT:N(-e.keyPanSpeed,0),u=!0;break}u&&(l.preventDefault(),e.update())}function Re(){if(y.length===1)M.set(y[0].pageX,y[0].pageY);else{const l=.5*(y[0].pageX+y[1].pageX),u=.5*(y[0].pageY+y[1].pageY);M.set(l,u)}}function Be(){if(y.length===1)p.set(y[0].pageX,y[0].pageY);else{const l=.5*(y[0].pageX+y[1].pageX),u=.5*(y[0].pageY+y[1].pageY);p.set(l,u)}}function Ve(){const l=y[0].pageX-y[1].pageX,u=y[0].pageY-y[1].pageY,T=Math.sqrt(l*l+u*u);O.set(0,T)}function Lt(){e.enableZoom&&Ve(),e.enablePan&&Be()}function Et(){e.enableZoom&&Ve(),e.enableRotate&&Re()}function $e(l){if(y.length==1)f.set(l.pageX,l.pageY);else{const T=J(l),j=.5*(l.pageX+T.x),V=.5*(l.pageY+T.y);f.set(j,V)}g.subVectors(f,M).multiplyScalar(e.rotateSpeed);const u=e.domElement;I(2*Math.PI*g.x/u.clientHeight),x(2*Math.PI*g.y/u.clientHeight),M.copy(f)}function De(l){if(y.length===1)L.set(l.pageX,l.pageY);else{const u=J(l),T=.5*(l.pageX+u.x),j=.5*(l.pageY+u.y);L.set(T,j)}P.subVectors(L,p).multiplyScalar(e.panSpeed),N(P.x,P.y),p.copy(L)}function ke(l){const u=J(l),T=l.pageX-u.x,j=l.pageY-u.y,V=Math.sqrt(T*T+j*j);E.set(0,V),C.set(0,Math.pow(E.y/O.y,e.zoomSpeed)),W(C.y),O.copy(E)}function xt(l){e.enableZoom&&ke(l),e.enablePan&&De(l)}function Ct(l){e.enableZoom&&ke(l),e.enableRotate&&$e(l)}function Ie(l){e.enabled!==!1&&(y.length===0&&(e.domElement.setPointerCapture(l.pointerId),e.domElement.addEventListener("pointermove",K),e.domElement.addEventListener("pointerup",q)),zt(l),l.pointerType==="touch"?jt(l):Ot(l))}function K(l){e.enabled!==!1&&(l.pointerType==="touch"?Gt(l):Tt(l))}function q(l){He(l),y.length===0&&(e.domElement.releasePointerCapture(l.pointerId),e.domElement.removeEventListener("pointermove",K),e.domElement.removeEventListener("pointerup",q)),e.dispatchEvent(se),o=n.NONE}function Ne(l){He(l)}function Ot(l){let u;switch(l.button){case 0:u=e.mouseButtons.LEFT;break;case 1:u=e.mouseButtons.MIDDLE;break;case 2:u=e.mouseButtons.RIGHT;break;default:u=-1}switch(u){case c.MOUSE.DOLLY:if(e.enableZoom===!1)return;bt(l),o=n.DOLLY;break;case c.MOUSE.ROTATE:if(l.ctrlKey||l.metaKey||l.shiftKey){if(e.enablePan===!1)return;ze(l),o=n.PAN}else{if(e.enableRotate===!1)return;Ge(l),o=n.ROTATE}break;case c.MOUSE.PAN:if(l.ctrlKey||l.metaKey||l.shiftKey){if(e.enableRotate===!1)return;Ge(l),o=n.ROTATE}else{if(e.enablePan===!1)return;ze(l),o=n.PAN}break;default:o=n.NONE}o!==n.NONE&&e.dispatchEvent(Z)}function Tt(l){if(e.enabled!==!1)switch(o){case n.ROTATE:if(e.enableRotate===!1)return;_t(l);break;case n.DOLLY:if(e.enableZoom===!1)return;Mt(l);break;case n.PAN:if(e.enablePan===!1)return;Pt(l);break}}function Ue(l){e.enabled===!1||e.enableZoom===!1||o!==n.NONE||(l.preventDefault(),e.dispatchEvent(Z),At(l),e.dispatchEvent(se))}function Fe(l){e.enabled===!1||e.enablePan===!1||St(l)}function jt(l){switch(Ye(l),y.length){case 1:switch(e.touches.ONE){case c.TOUCH.ROTATE:if(e.enableRotate===!1)return;Re(),o=n.TOUCH_ROTATE;break;case c.TOUCH.PAN:if(e.enablePan===!1)return;Be(),o=n.TOUCH_PAN;break;default:o=n.NONE}break;case 2:switch(e.touches.TWO){case c.TOUCH.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Lt(),o=n.TOUCH_DOLLY_PAN;break;case c.TOUCH.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Et(),o=n.TOUCH_DOLLY_ROTATE;break;default:o=n.NONE}break;default:o=n.NONE}o!==n.NONE&&e.dispatchEvent(Z)}function Gt(l){switch(Ye(l),o){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;$e(l),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;De(l),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;xt(l),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ct(l),e.update();break;default:o=n.NONE}}function ve(l){e.enabled!==!1&&l.preventDefault()}function zt(l){y.push(l)}function He(l){delete G[l.pointerId];for(let u=0;u<y.length;u++)if(y[u].pointerId==l.pointerId){y.splice(u,1);return}}function Ye(l){let u=G[l.pointerId];u===void 0&&(u=new c.Vector2,G[l.pointerId]=u),u.set(l.pageX,l.pageY)}function J(l){const u=l.pointerId===y[0].pointerId?y[1]:y[0];return G[u.pointerId]}e.domElement.addEventListener("contextmenu",ve),e.domElement.addEventListener("pointerdown",Ie),e.domElement.addEventListener("pointercancel",Ne),e.domElement.addEventListener("wheel",Ue,{passive:!1}),this.update()}}const qe={name:"OrbitControls",render:()=>null},re=i.defineComponent({...qe,props:{enablePan:{type:Boolean,default:!0},enableRotate:{type:Boolean,default:!0},enableZoom:{type:Boolean,default:!0},minZoom:{default:0},maxZoom:{default:1/0},minDistance:{default:0},maxDistance:{default:1/0},minPolarAngle:{default:0},maxPolarAngle:{default:Math.PI},minAzimuthAngle:{default:1/0},maxAzimuthAngle:{default:1/0},target:{default:()=>[0,0,0]}},setup(r,{expose:a}){const t=r,e=i.ref(null);i.inject("addControls")(e);const n=i.inject("parentCamera"),o=i.inject("canvas");function s(){e.value!=null&&(e.value.enablePan=t.enablePan,e.value.enableRotate=t.enableRotate,e.value.enableZoom=t.enableZoom,e.value.minZoom=t.minZoom,e.value.maxZoom=t.maxZoom,e.value.minDistance=t.minDistance,e.value.maxDistance=t.maxDistance,e.value.minPolarAngle=t.minPolarAngle,e.value.maxPolarAngle=t.maxPolarAngle,e.value.minAzimuthAngle=t.minAzimuthAngle,e.value.maxAzimuthAngle=t.maxAzimuthAngle)}return i.watch(o,()=>{e.value=new Ke(n,o.value),s(),S(t,"target",e.value,!1)}),s(),b(t,"enablePan",s),b(t,"enableRotate",s),b(t,"enableZoom",s),b(t,"minZoom",s),b(t,"maxZoom",s),b(t,"minDistance",s),b(t,"maxDistance",s),b(t,"minPolarAngle",s),b(t,"maxPolarAngle",s),b(t,"minAzimuthAngle",s),b(t,"maxAzimuthAngle",s),S(t,"target",e.value),a({three:e.value}),{props:t,three:e,camera:n,canvas:o,applyProps:s}}}),le=i.defineComponent({__name:"LineSegments",props:{position:{default:()=>[0,0,0]},rotation:{default:()=>[0,0,0]},scale:{default:()=>[1,1,1]}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.BufferGeometry,o=new c.LineBasicMaterial({color:"black"}),s=new c.LineSegments(n,o);return e.add(s),S(t,"position",s),S(t,"rotation",s),S(t,"scale",s),i.onUnmounted(()=>{e.remove(s),F(s)}),i.provide("mesh",s),a({three:s}),(m,d)=>i.renderSlot(m.$slots,"default")}}),ce=i.defineComponent({__name:"Mesh",props:{castShadow:{type:Boolean,default:!1},position:{default:()=>[0,0,0]},receiveShadow:{type:Boolean,default:!1},rotation:{default:()=>[0,0,0]},scale:{default:()=>[1,1,1]}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.BufferGeometry,o=new c.MeshBasicMaterial,s=new c.Mesh(n,o);s.castShadow=!0,s.receiveShadow=!0,e.add(s),S(t,"position",s),S(t,"rotation",s),S(t,"scale",s);function m(d){s.castShadow=d.castShadow,s.receiveShadow=d.receiveShadow}return m(t),i.watch(()=>t.castShadow,()=>m(t)),i.watch(()=>t.receiveShadow,()=>m(t)),i.onUnmounted(()=>{e.remove(s),F(s)}),i.provide("mesh",s),a({three:s}),(d,h)=>i.renderSlot(d.$slots,"default")}}),me=i.defineComponent({__name:"Points",props:{position:{default:()=>[0,0,0]},rotation:{default:()=>[0,0,0]},scale:{default:()=>[1,1,1]}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.BufferGeometry,o=new c.PointsMaterial({color:"red",sizeAttenuation:!1,size:2}),s=new c.Points(n,o);return e.add(s),S(t,"position",s),S(t,"rotation",s),S(t,"scale",s),i.onUnmounted(()=>{e.remove(s),F(s)}),i.provide("mesh",s),a({three:s}),(m,d)=>i.renderSlot(m.$slots,"default")}}),Je=/^[og]\s*(.+)?/,Qe=/^mtllib /,et=/^usemtl /,tt=/^usemap /,de=new c.Vector3,X=new c.Vector3,fe=new c.Vector3,ue=new c.Vector3,R=new c.Vector3,H=new c.Color;function nt(){const r={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(a,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=a,this.object.fromDeclaration=t!==!1;return}const e=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:a||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(n,o){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const m={index:this.materials.length,name:n||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(d){const h={index:typeof d=="number"?d:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return h.clone=this.clone.bind(h),h}};return this.materials.push(m),m},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(n){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),n&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return n&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},e&&e.name&&typeof e.clone=="function"){const n=e.clone(0);n.inherited=!0,this.object.materials.push(n)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(a,t){const e=parseInt(a,10);return(e>=0?e-1:e+t/3)*3},parseNormalIndex:function(a,t){const e=parseInt(a,10);return(e>=0?e-1:e+t/3)*3},parseUVIndex:function(a,t){const e=parseInt(a,10);return(e>=0?e-1:e+t/2)*2},addVertex:function(a,t,e){const n=this.vertices,o=this.object.geometry.vertices;o.push(n[a+0],n[a+1],n[a+2]),o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2])},addVertexPoint:function(a){const t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addVertexLine:function(a){const t=this.vertices;this.object.geometry.vertices.push(t[a+0],t[a+1],t[a+2])},addNormal:function(a,t,e){const n=this.normals,o=this.object.geometry.normals;o.push(n[a+0],n[a+1],n[a+2]),o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2])},addFaceNormal:function(a,t,e){const n=this.vertices,o=this.object.geometry.normals;de.fromArray(n,a),X.fromArray(n,t),fe.fromArray(n,e),R.subVectors(fe,X),ue.subVectors(de,X),R.cross(ue),R.normalize(),o.push(R.x,R.y,R.z),o.push(R.x,R.y,R.z),o.push(R.x,R.y,R.z)},addColor:function(a,t,e){const n=this.colors,o=this.object.geometry.colors;n[a]!==void 0&&o.push(n[a+0],n[a+1],n[a+2]),n[t]!==void 0&&o.push(n[t+0],n[t+1],n[t+2]),n[e]!==void 0&&o.push(n[e+0],n[e+1],n[e+2])},addUV:function(a,t,e){const n=this.uvs,o=this.object.geometry.uvs;o.push(n[a+0],n[a+1]),o.push(n[t+0],n[t+1]),o.push(n[e+0],n[e+1])},addDefaultUV:function(){const a=this.object.geometry.uvs;a.push(0,0),a.push(0,0),a.push(0,0)},addUVLine:function(a){const t=this.uvs;this.object.geometry.uvs.push(t[a+0],t[a+1])},addFace:function(a,t,e,n,o,s,m,d,h){const _=this.vertices.length;let w=this.parseVertexIndex(a,_),M=this.parseVertexIndex(t,_),f=this.parseVertexIndex(e,_);if(this.addVertex(w,M,f),this.addColor(w,M,f),m!==void 0&&m!==""){const g=this.normals.length;w=this.parseNormalIndex(m,g),M=this.parseNormalIndex(d,g),f=this.parseNormalIndex(h,g),this.addNormal(w,M,f)}else this.addFaceNormal(w,M,f);if(n!==void 0&&n!==""){const g=this.uvs.length;w=this.parseUVIndex(n,g),M=this.parseUVIndex(o,g),f=this.parseUVIndex(s,g),this.addUV(w,M,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(a){this.object.geometry.type="Points";const t=this.vertices.length;for(let e=0,n=a.length;e<n;e++){const o=this.parseVertexIndex(a[e],t);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(a,t){this.object.geometry.type="Line";const e=this.vertices.length,n=this.uvs.length;for(let o=0,s=a.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(a[o],e));for(let o=0,s=t.length;o<s;o++)this.addUVLine(this.parseUVIndex(t[o],n))}};return r.startObject("",!1),r}class ot extends c.Loader{constructor(a){super(a),this.materials=null}load(a,t,e,n){const o=this,s=new c.FileLoader(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(a,function(m){try{t(o.parse(m))}catch(d){n?n(d):console.error(d),o.manager.itemError(a)}},e,n)}setMaterials(a){return this.materials=a,this}parse(a){const t=new nt;a.indexOf(`\r
`)!==-1&&(a=a.replace(/\r\n/g,`
`)),a.indexOf(`\\
`)!==-1&&(a=a.replace(/\\\n/g,""));const e=a.split(`
`);let n="",o="",s=0,m=[];const d=typeof"".trimLeft=="function";for(let w=0,M=e.length;w<M;w++)if(n=e[w],n=d?n.trimLeft():n.trim(),s=n.length,s!==0&&(o=n.charAt(0),o!=="#"))if(o==="v"){const f=n.split(/\s+/);switch(f[0]){case"v":t.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?(H.setRGB(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6])).convertSRGBToLinear(),t.colors.push(H.r,H.g,H.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":t.uvs.push(parseFloat(f[1]),parseFloat(f[2]));break}}else if(o==="f"){const g=n.slice(1).trim().split(/\s+/),p=[];for(let P=0,O=g.length;P<O;P++){const E=g[P];if(E.length>0){const C=E.split("/");p.push(C)}}const L=p[0];for(let P=1,O=p.length-1;P<O;P++){const E=p[P],C=p[P+1];t.addFace(L[0],E[0],C[0],L[1],E[1],C[1],L[2],E[2],C[2])}}else if(o==="l"){const f=n.substring(1).trim().split(" ");let g=[];const p=[];if(n.indexOf("/")===-1)g=f;else for(let L=0,P=f.length;L<P;L++){const O=f[L].split("/");O[0]!==""&&g.push(O[0]),O[1]!==""&&p.push(O[1])}t.addLineGeometry(g,p)}else if(o==="p"){const g=n.slice(1).trim().split(" ");t.addPointGeometry(g)}else if((m=Je.exec(n))!==null){const f=(" "+m[0].slice(1).trim()).slice(1);t.startObject(f)}else if(et.test(n))t.object.startMaterial(n.substring(7).trim(),t.materialLibraries);else if(Qe.test(n))t.materialLibraries.push(n.substring(7).trim());else if(tt.test(n))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(o==="s"){if(m=n.split(" "),m.length>1){const g=m[1].trim().toLowerCase();t.object.smooth=g!=="0"&&g!=="off"}else t.object.smooth=!0;const f=t.object.currentMaterial();f&&(f.smooth=t.object.smooth)}else{if(n==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+n+'"')}t.finalize();const h=new c.Group;if(h.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let w=0,M=t.objects.length;w<M;w++){const f=t.objects[w],g=f.geometry,p=f.materials,L=g.type==="Line",P=g.type==="Points";let O=!1;if(g.vertices.length===0)continue;const E=new c.BufferGeometry;E.setAttribute("position",new c.Float32BufferAttribute(g.vertices,3)),g.normals.length>0&&E.setAttribute("normal",new c.Float32BufferAttribute(g.normals,3)),g.colors.length>0&&(O=!0,E.setAttribute("color",new c.Float32BufferAttribute(g.colors,3))),g.hasUVIndices===!0&&E.setAttribute("uv",new c.Float32BufferAttribute(g.uvs,2));const C=[];for(let G=0,v=p.length;G<v;G++){const z=p[G],I=z.name+"_"+z.smooth+"_"+O;let x=t.materials[I];if(this.materials!==null){if(x=this.materials.create(z.name),L&&x&&!(x instanceof c.LineBasicMaterial)){const B=new c.LineBasicMaterial;c.Material.prototype.copy.call(B,x),B.color.copy(x.color),x=B}else if(P&&x&&!(x instanceof c.PointsMaterial)){const B=new c.PointsMaterial({size:10,sizeAttenuation:!1});c.Material.prototype.copy.call(B,x),B.color.copy(x.color),B.map=x.map,x=B}}x===void 0&&(L?x=new c.LineBasicMaterial:P?x=new c.PointsMaterial({size:1,sizeAttenuation:!1}):x=new c.MeshPhongMaterial,x.name=z.name,x.flatShading=!z.smooth,x.vertexColors=O,t.materials[I]=x),C.push(x)}let y;if(C.length>1){for(let G=0,v=p.length;G<v;G++){const z=p[G];E.addGroup(z.groupStart,z.groupCount,G)}L?y=new c.LineSegments(E,C):P?y=new c.Points(E,C):y=new c.Mesh(E,C)}else L?y=new c.LineSegments(E,C[0]):P?y=new c.Points(E,C[0]):y=new c.Mesh(E,C[0]);y.name=f.name,h.add(y)}else if(t.vertices.length>0){const w=new c.PointsMaterial({size:1,sizeAttenuation:!1}),M=new c.BufferGeometry;M.setAttribute("position",new c.Float32BufferAttribute(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(M.setAttribute("color",new c.Float32BufferAttribute(t.colors,3)),w.vertexColors=!0);const f=new c.Points(M,w);h.add(f)}return h}}const pe=i.defineComponent({__name:"OBJLoader",props:{castShadow:{type:Boolean,default:!1},position:{default:()=>[0,0,0]},receiveShadow:{type:Boolean,default:!1},rotation:{default:()=>[0,0,0]},scale:{default:()=>[1,1,1]},url:null},emits:["load","progress","error"],setup(r,{expose:a,emit:t}){const e=r,n=new ot,o=i.inject("scene"),s=new c.Group;s.castShadow=!0,s.receiveShadow=!0,o.add(s),S(e,"position",s),S(e,"rotation",s),S(e,"scale",s);function m(){n.load(e.url,function(d){for(const h of d.children)s.children.push(h),h.material=s.material,S(e,"position",s,!1),S(e,"rotation",s,!1),S(e,"scale",s,!1);t("load",d)},function(d){t("progress",d)},function(d){t("error",d)})}return m(),i.watch(()=>e.url,()=>m()),i.provide("mesh",s),a({three:s}),(d,h)=>i.renderSlot(d.$slots,"default")}}),he=i.defineComponent({__name:"AxesHelper",props:{position:{default:()=>[0,0,0]},rotation:{default:()=>[0,0,0]},size:{default:1},scale:{default:()=>[1,1,1]}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.AxesHelper(t.size);return e.add(n),S(t,"position",n),S(t,"rotation",n),S(t,"scale",n),i.provide("mesh",n),a({three:n}),(o,s)=>i.renderSlot(o.$slots,"default")}}),at={name:"BoxGeometry",render:()=>null},ge=i.defineComponent({...at,props:{name:{default:""},width:{default:1},height:{default:1},depth:{default:1},widthSegments:{default:1},heightSegments:{default:1},depthSegments:{default:1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh");function n(d,h,_,w,M,f){return new c.BoxGeometry(d,h,_,w,M,f)}const o=i.reactive(new c.BufferGeometry);o.name=t.name,e.geometry=o;const s=i.inject("addGeometry");s(o);function m(){const d=n(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments);k(o,d)}return m(),b(t,"name",()=>{o.name=t.name}),b(t,"width",m),b(t,"height",m),b(t,"depth",m),b(t,"widthSegments",m),b(t,"heightSegments",m),b(t,"depthSegments",m),a({three:o}),{props:t,mesh:e,makeBox:n,three:o,addGeometry:s,redoGeometry:m}}}),it={name:"BufferGeometry",render:()=>null},ye=i.defineComponent({...it,props:{name:{default:""},vertices:{default:()=>[]},faces:{default:()=>[]}},setup(r,{expose:a}){const t=r,e=i.inject("mesh");function n(d,h){const _=new c.BufferGeometry,w=new Float32Array(d.length);for(let M=0;M<d.length;M++)w[M]=d[M];return _.setAttribute("position",new c.BufferAttribute(w,3)),_.setIndex(h),_.computeVertexNormals(),_}const o=i.reactive(n(t.vertices,t.faces));o.name=t.name,e.geometry=o;const s=i.inject("addGeometry");s(o);function m(d,h){const _=n(d,h);k(o,_)}return i.watch(()=>t.vertices,d=>{m(d,t.faces)},{deep:!0,immediate:!0}),i.watch(()=>t.faces,d=>{m(t.vertices,d)},{deep:!0,immediate:!0}),a({three:o}),{props:t,mesh:e,makeGeometry:n,three:o,addGeometry:s,redoGeometry:m}}}),st={name:"EdgesGeometry",render:()=>null},we=i.defineComponent({...st,props:{geometry:null},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=i.reactive(new c.BufferGeometry);e.geometry=n;const o=i.inject("getGeometry"),s=i.inject("addGeometry");s(n);function m(){const _=new c.EdgesGeometry(o(t.geometry));k(n,_)}let d=i.watch(o(t.geometry),()=>{m()},{deep:!0,immediate:!0});b(t,"geometry",()=>{d(),d=i.watch(o(t.geometry),()=>{m()},{immediate:!0,deep:!0})});const h=()=>{o(t.geometry)===void 0?i.nextTick(()=>h):m()};return i.nextTick(()=>h),a({three:n}),{props:t,mesh:e,three:n,getGeometry:o,addGeometry:s,redoGeometry:m,get unwatch(){return d},set unwatch(_){d=_},waitUntilGeometryChanged:h}}}),rt={name:"PlaneGeometry",render:()=>null},be=i.defineComponent({...rt,props:{name:{default:""},width:{default:1},height:{default:1},widthSegments:{default:1},heightSegments:{default:1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh");function n(d,h,_,w){return new c.PlaneGeometry(d,h,_,w)}const o=i.reactive(new c.BufferGeometry);o.name=t.name,e.geometry=o;const s=i.inject("addGeometry");s(o);function m(){const d=n(t.width,t.height,t.widthSegments,t.heightSegments);k(o,d)}return m(),b(t,"width",m),b(t,"height",m),b(t,"widthSegments",m),b(t,"heightSegments",m),a({three:o}),{props:t,mesh:e,makePlane:n,three:o,addGeometry:s,redoGeometry:m}}}),lt={name:"SphereGeometry",render:()=>null},_e=i.defineComponent({...lt,props:{name:{default:""},radius:{default:1},widthSegments:{default:8},heightSegments:{default:6},phiStart:{default:0},phiLength:{default:2*Math.PI},thetaStart:{default:0},thetaLength:{default:Math.PI}},setup(r,{expose:a}){const t=r,e=i.inject("mesh");function n(d,h,_,w,M,f,g){return new c.SphereGeometry(d,h,_,w,M,f,g)}const o=i.reactive(new c.BufferGeometry);o.name=t.name,e.geometry=o;const s=i.inject("addGeometry");s(o);function m(){const d=n(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength);k(o,d)}return m(),b(t,"radius",m),b(t,"widthSegments",m),b(t,"heightSegments",m),b(t,"phiStart",m),b(t,"phiLength",m),b(t,"thetaStart",m),b(t,"thetaLength",m),a({three:o}),{props:t,mesh:e,makeSphere:n,three:o,addGeometry:s,redoGeometry:m}}}),ct={name:"WireframeGeometry",render:()=>null},Me=i.defineComponent({...ct,props:{geometry:null},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=i.reactive(new c.BufferGeometry);e.geometry=n;const o=i.inject("getGeometry"),s=i.inject("addGeometry");s(n);function m(){const _=new c.WireframeGeometry(o(t.geometry));k(n,_)}let d=i.watch(o(t.geometry),()=>{m()},{deep:!0,immediate:!0});b(t,"geometry",()=>{d(),d=i.watch(o(t.geometry),()=>{m()},{immediate:!0,deep:!0})});const h=()=>{o(t.geometry)===void 0?i.nextTick(()=>h):m()};return i.nextTick(()=>h),a({three:n}),{props:t,mesh:e,three:n,getGeometry:o,addGeometry:s,redoGeometry:m,get unwatch(){return d},set unwatch(_){d=_},waitUntilGeometryChanged:h}}}),mt={name:"LineBasicMaterial",render:()=>null},Pe=i.defineComponent({...mt,props:{color:{default:16777215}},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=new c.LineBasicMaterial({color:t.color});e.material=n;function o(s){s.color&&(n.color=new c.Color(s.color))}return o(t),i.watch(()=>t.color,()=>o(t)),i.provide("material",n),a({three:n}),{props:t,mesh:e,three:n,applyProps:o}}}),dt={name:"MeshBasicMaterial"},Ae=i.defineComponent({...dt,props:{color:null,side:{default:c.FrontSide},opacity:{default:1},transparent:{type:Boolean,default:!1},vertexColors:{type:Boolean,default:!1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=new c.MeshBasicMaterial;return e.material=n,i.watch(()=>t.color,()=>{t.color!==void 0&&(n.color=new c.Color(t.color))},{immediate:!0}),i.watch(()=>t.side,()=>{n.side=t.side},{immediate:!0}),i.watch(()=>t.opacity,()=>{n.opacity=t.opacity},{immediate:!0}),i.watch(()=>t.transparent,()=>{n.transparent=t.transparent},{immediate:!0}),i.watch(()=>t.vertexColors,()=>{n.vertexColors=t.vertexColors},{immediate:!0}),i.provide("material",n),a({three:n}),(o,s)=>i.renderSlot(o.$slots,"default")}}),ft={name:"MeshLambertMaterial"},Se=i.defineComponent({...ft,props:{color:{default:16777215},side:{default:c.FrontSide},opacity:{default:1},transparent:{type:Boolean,default:!1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=new c.MeshLambertMaterial;e.material=n;function o(s){s.color&&(n.color=new c.Color(s.color)),s.side&&(n.side=s.side)}return o(t),i.watch(()=>t.color,()=>o(t)),i.watch(()=>t.side,()=>o(t)),i.watch(()=>t.opacity,()=>{n.opacity=t.opacity},{immediate:!0}),i.watch(()=>t.transparent,()=>{n.transparent=t.transparent},{immediate:!0}),i.provide("material",n),a({three:n}),(s,m)=>i.renderSlot(s.$slots,"default")}}),ut={name:"PointsMaterial",render:()=>null},Le=i.defineComponent({...ut,props:{color:{default:16777215},sizeAttenuation:{type:Boolean,default:!0},size:{default:1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=new c.PointsMaterial({color:t.color,sizeAttenuation:t.sizeAttenuation,size:t.size});e.material=n;function o(s){s.color&&(n.color=new c.Color(s.color)),s.size&&(n.size=s.size),s.sizeAttenuation!==void 0&&(n.sizeAttenuation=s.sizeAttenuation)}return o(t),i.watch(()=>t.color,()=>o(t)),i.watch(()=>t.size,()=>o(t)),i.watch(()=>t.sizeAttenuation,()=>o(t)),i.provide("material",n),a({three:n}),{props:t,mesh:e,three:n,applyProps:o}}}),pt={name:"MeshNormalMaterial"},Ee=i.defineComponent({...pt,props:{side:{default:c.FrontSide},opacity:{default:1},transparent:{type:Boolean,default:!1}},setup(r,{expose:a}){const t=r,e=i.inject("mesh"),n=new c.MeshNormalMaterial;return e.material=n,i.watch(()=>t.side,()=>{n.side=t.side},{immediate:!0}),i.watch(()=>t.opacity,()=>{n.opacity=t.opacity},{immediate:!0}),i.watch(()=>t.transparent,()=>{n.transparent=t.transparent},{immediate:!0}),i.provide("material",n),a({three:n}),(o,s)=>i.renderSlot(o.$slots,"default")}}),ht={name:"AmbientLight",render:()=>null},xe=i.defineComponent({...ht,props:{color:{default:16777215},intensity:{default:1}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.AmbientLight;e.add(n);function o(s){n.color=new c.Color(s.color),n.intensity=s.intensity}return o(t),i.watch(()=>t.color,()=>o(t)),i.watch(()=>t.intensity,()=>o(t)),a({three:n}),{props:t,scene:e,three:n,applyProps:o}}}),gt={name:"PointLight",render:()=>null},Ce=i.defineComponent({...gt,props:{castShadow:{type:Boolean,default:!1},color:{default:16777215},intensity:{default:1},position:{default:()=>[0,0,0]},rotation:{default:()=>[0,0,0]},scale:{default:()=>[1,1,1]}},setup(r,{expose:a}){const t=r,e=i.inject("scene"),n=new c.PointLight;e.add(n),S(t,"position",n),S(t,"rotation",n),S(t,"scale",n);function o(s){n.color=new c.Color(s.color),n.intensity=s.intensity,n.castShadow=s.castShadow}return o(t),i.watch(()=>t.color,()=>o(t)),i.watch(()=>t.intensity,()=>o(t)),i.watch(()=>t.castShadow,()=>o(t)),a({three:n}),{props:t,scene:e,three:n,applyProps:o}}}),yt={name:"TextureLoader",render:()=>null},Oe=i.defineComponent({...yt,props:{url:null},setup(r,{expose:a}){const t=r,e=i.inject("material"),n=i.ref(new c.Texture);function o(s){"map"in e&&(e.map=new c.TextureLoader().load(s.url))}return o(t),i.watch(()=>t.url,()=>o(t)),a({three:n}),{props:t,material:e,three:n,applyProps:o}}});function wt(r){r.component("Renderer",te),r.component("Scene",ne),r.component("PerspectiveCamera",oe),r.component("OrthographicCamera",ae),r.component("OrbitControls",re),r.component("LineSegments",le),r.component("Mesh",ce),r.component("Points",me),r.component("OBJLoader",pe),r.component("AxesHelper",he),r.component("BoxGeometry",ge),r.component("BufferGeometry",ye),r.component("EdgesGeometry",we),r.component("PlaneGeometry",be),r.component("SphereGeometry",_e),r.component("WireframeGeometry",Me),r.component("LineBasicMaterial",Pe),r.component("MeshBasicMaterial",Ae),r.component("MeshLambertMaterial",Se),r.component("PointsMaterial",Le),r.component("MeshNormalMaterial",Ee),r.component("AmbientLight",xe),r.component("PointLight",Ce),r.component("TextureLoader",Oe)}A.AmbientLight=xe,A.AxesHelper=he,A.BoxGeometry=ge,A.BufferGeometry=ye,A.EdgesGeometry=we,A.LineBasicMaterial=Pe,A.LineSegments=le,A.Mesh=ce,A.MeshBasicMaterial=Ae,A.MeshLambertMaterial=Se,A.MeshNormalMaterial=Ee,A.OBJLoader=pe,A.OrbitControls=re,A.OrthographicCamera=ae,A.PerspectiveCamera=oe,A.PlaneGeometry=be,A.PointLight=Ce,A.Points=me,A.PointsMaterial=Le,A.Renderer=te,A.Scene=ne,A.SphereGeometry=_e,A.TextureLoader=Oe,A.WireframeGeometry=Me,A.install=wt,Object.defineProperty(A,Symbol.toStringTag,{value:"Module"})});
